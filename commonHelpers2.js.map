{"version":3,"file":"commonHelpers2.js","sources":["../src/js/form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nconst localStorageKey = 'feedback-form-state';\n\ntry {\n  const initialForm = JSON.parse(localStorage.getItem(localStorageKey));\n\n  Array.from(form.elements).forEach(element => {\n    const currentValue = initialForm[element.name];\n    if (currentValue) {\n      element.value = currentValue;\n    }\n  });\n} catch (error) {\n  console.error('ERROR FORM');\n}\n\nform.addEventListener('input', event => {\n  const formData = new FormData(form);\n  const formObj = {};\n\n  formData.forEach((value, key) => {\n    formObj[key] = value;\n  });\n\n  localStorage.setItem(localStorageKey, JSON.stringify(formObj));\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const obj = JSON.parse(localStorage.getItem(localStorageKey));\n\n  if (obj.email && obj.message) {\n    console.log(obj);\n    localStorage.removeItem(localStorageKey);\n    form.reset();\n  }\n});\n"],"names":["form","localStorageKey","initialForm","element","currentValue","event","formData","formObj","value","key","obj"],"mappings":"oCAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAkB,sBAExB,GAAI,CACF,MAAMC,EAAc,KAAK,MAAM,aAAa,QAAQD,CAAe,CAAC,EAEpE,MAAM,KAAKD,EAAK,QAAQ,EAAE,QAAQG,GAAW,CAC3C,MAAMC,EAAeF,EAAYC,EAAQ,MACrCC,IACFD,EAAQ,MAAQC,EAEtB,CAAG,CACH,MAAE,CACA,QAAQ,MAAM,YAAY,CAC5B,CAEAJ,EAAK,iBAAiB,QAASK,GAAS,CACtC,MAAMC,EAAW,IAAI,SAASN,CAAI,EAC5BO,EAAU,CAAA,EAEhBD,EAAS,QAAQ,CAACE,EAAOC,IAAQ,CAC/BF,EAAQE,GAAOD,CACnB,CAAG,EAED,aAAa,QAAQP,EAAiB,KAAK,UAAUM,CAAO,CAAC,CAC/D,CAAC,EAEDP,EAAK,iBAAiB,SAAUK,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMK,EAAM,KAAK,MAAM,aAAa,QAAQT,CAAe,CAAC,EAExDS,EAAI,OAASA,EAAI,UACnB,QAAQ,IAAIA,CAAG,EACf,aAAa,WAAWT,CAAe,EACvCD,EAAK,MAAK,EAEd,CAAC"}